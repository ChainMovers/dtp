<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.7" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.23" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://dtp.dev/docs/design.html"><meta property="og:site_name" content="Decentralized Transport Protocol"><meta property="og:title" content="Design"><meta property="og:description" content="Target Audience Developers should first read the API they intend to use. This document is for developers curious about DTP inner works. At high level, how is the Sui Network use..."><meta property="og:type" content="article"><meta property="og:image" content="https://dtp.dev/assets/images/design_terms.png?url"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-02-14T03:11:10.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Design"><meta property="article:author" content="dtp.dev"><meta property="article:modified_time" content="2024-02-14T03:11:10.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Design","image":["https://dtp.dev/assets/images/design_terms.png?url","https://dtp.dev/assets/images/ref_firewall.png?url","https://dtp.dev/assets/images/multi_channels.png?url","https://dtp.dev/assets/images/multi_channel_est.png?url","https://dtp.dev/assets/images/ref_ha.png?url","https://dtp.dev/assets/images/ref_uni.png?url","https://dtp.dev/assets/images/ref_broadcast.png?url"],"dateModified":"2024-02-14T03:11:10.000Z","author":[{"@type":"Person","name":"dtp.dev","url":"https://dtp.dev"}]}</script><title>Design | Decentralized Transport Protocol</title><meta name="description" content="Target Audience Developers should first read the API they intend to use. This document is for developers curious about DTP inner works. At high level, how is the Sui Network use...">
    <link rel="preload" href="/assets/style-Ceu9ObI8.css" as="style"><link rel="stylesheet" href="/assets/style-Ceu9ObI8.css">
    <link rel="modulepreload" href="/assets/app-ByQSBs2e.js"><link rel="modulepreload" href="/assets/design.html-DXjuAf5Z.js"><link rel="modulepreload" href="/assets/ref_broadcast-Cg4jrlCe.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-CcjAbvTU.js" as="script"><link rel="prefetch" href="/assets/faq.html-dluV8jgu.js" as="script"><link rel="prefetch" href="/assets/intro.html-HViT3e2V.js" as="script"><link rel="prefetch" href="/assets/index.html-BP7T6MpI.js" as="script"><link rel="prefetch" href="/assets/editors.html-DbFZ0wXW.js" as="script"><link rel="prefetch" href="/assets/index.html-Y4ktkLqg.js" as="script"><link rel="prefetch" href="/assets/api_rust.html-Cfbc2qrb.js" as="script"><link rel="prefetch" href="/assets/api_typescript.html-D3__tOvp.js" as="script"><link rel="prefetch" href="/assets/future_work.html-_O52kS1C.js" as="script"><link rel="prefetch" href="/assets/scripts.html-HgMu7PIl.js" as="script"><link rel="prefetch" href="/assets/index.html-Cm-sU6nF.js" as="script"><link rel="prefetch" href="/assets/rpc_firewall.html-khTV4QAH.js" as="script"><link rel="prefetch" href="/assets/web3_rust.html-ClECZ16q.js" as="script"><link rel="prefetch" href="/assets/full_setup.html-e0hl0h1G.js" as="script"><link rel="prefetch" href="/assets/install.html-Bx2VaAAD.js" as="script"><link rel="prefetch" href="/assets/npm_only.html-Ddt1t0_-.js" as="script"><link rel="prefetch" href="/assets/runtime_only.html-CnB04aNF.js" as="script"><link rel="prefetch" href="/assets/index.html-C9gSWOGJ.js" as="script"><link rel="prefetch" href="/assets/api_rust.html-5_qya2Fc.js" as="script"><link rel="prefetch" href="/assets/api_typescript.html-CmYJafDV.js" as="script"><link rel="prefetch" href="/assets/design.html-C2RIiK34.js" as="script"><link rel="prefetch" href="/assets/future_work.html-DCiVYHuE.js" as="script"><link rel="prefetch" href="/assets/scripts.html-DTctO7jv.js" as="script"><link rel="prefetch" href="/assets/404.html-Dstntq9I.js" as="script"><link rel="prefetch" href="/assets/index.html-BjZS8ID3.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">Decentralized Transport Protocol</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/intro.html" aria-label="Getting Started"><!---->Getting Started<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/examples/" aria-label="Use Cases"><!---->Use Cases<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link active" href="/docs/" aria-label="Docs"><!---->Docs<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/community/" aria-label="Community"><!---->Community<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/chainmovers/dtp" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/" aria-label="Home"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Home<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><!----><a class="route-link nav-link vp-sidebar-title" href="/intro.html" aria-label="Getting Started"><!---->Getting Started<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/intro.html" aria-label="What is DTP?"><!---->What is DTP?<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/how-to/install.html" aria-label="Installation"><!---->Installation<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/faq.html" aria-label="FAQ"><!---->FAQ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><!----><a class="route-link nav-link vp-sidebar-title" href="/examples/" aria-label="Use Cases"><!---->Use Cases<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/examples/" aria-label="Examples/Ideas"><!---->Examples/Ideas<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/examples/rpc_firewall.html" aria-label="RPC Firewall"><!---->RPC Firewall<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/examples/web3_rust.html" aria-label="Rust Backend"><!---->Rust Backend<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable active"><!----><a class="route-link nav-link active vp-sidebar-title" href="/docs/" aria-label="Docs"><!---->Docs<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/docs/" aria-label="Basic Concepts"><!---->Basic Concepts<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">API</span><span class="vp-arrow end"></span></button><!----></section></li><li><!--[--><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/docs/design.html" aria-label="Design"><!---->Design<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/docs/future_work.html" aria-label="Future Work"><!---->Future Work<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><!----><a class="route-link nav-link vp-sidebar-title" href="/community/" aria-label="Community"><!---->Community<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/community/" aria-label="Forums / Contacts"><!---->Forums / Contacts<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/community/editors.html" aria-label="Become an Editor"><!---->Become an Editor<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Design</h1><!----><hr></div><!----><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="target-audience" tabindex="-1"><a class="header-anchor" href="#target-audience"><span>Target Audience</span></a></h2><p>Developers should first read the API they intend to use.</p><p>This document is for developers curious about DTP inner works.</p><h2 id="at-high-level-how-is-the-sui-network-used" tabindex="-1"><a class="header-anchor" href="#at-high-level-how-is-the-sui-network-used"><span>At high level, how is the Sui Network used?</span></a></h2><p>Sui owned objects are used for unidirectional data transfer with sub-second latency (See <a href="https://docs.sui.io/devnet/learn/how-sui-works#simple-transactions" target="_blank" rel="noopener noreferrer">Simple Transaction<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> in Sui docs).</p><p>Data Ingress: A data stream is sliced into transactions (txns) and added to the Sui network. The txns are targeted to a destination Pipe (owned object).</p><p>Data egress: The data &quot;exit&quot; the network through event streams (emitted by the txns being received at the destination Pipe). The transmitted data can be &quot;observed&quot; by any users, but decoded only by the ones having the decryption key.</p><p>The receiving end DTP SDK re-assembles the txns into the original data stream. The stream is then forwarded to the intended end-user (a TCP server, a Rust application layer above etc...).</p><p>Slower transactions (Sui consensus) are used for most &quot;control plane&quot; synchronizations.</p><h2 id="dtp-glossary" tabindex="-1"><a class="header-anchor" href="#dtp-glossary"><span>DTP Glossary</span></a></h2><p><img src="/assets/images/design_terms.png" alt="" loading="lazy"></p><p><strong>Client</strong>: An application that initiate a connection.</p><p><strong>Connection:</strong> One connection allows exchanging data between two applications. The applications are localized by their Host object on the Sui network. A connection will start to exchange data only after a Transport Control and one or two Pipe objects are created (for uni or bidirectional transfer respectively).</p><p><strong>Host Object</strong>: Any signature authority that want to transfer data must create its own Host object. This is a Sui shared object involved in many control plane transactions (e.g. creation of a connection). It allows to configure the services (and SLA) that are to be provided, the lifecycle of its associated connections and control the firewall.</p><p><strong>Objects:</strong> Usually refer to Sui objects (See <a href="https://docs.sui.io/build/programming-with-objects" target="_blank" rel="noopener noreferrer">Sui Docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p><p><strong>Pipe Object</strong>:All off-chain data exchange involves an intermediate object on the Sui network. This object is the Pipe. It is owned by the sender of the data, and have its event stream observed by the receiver(s). A Pipe is loosely coupled to a Transport or Broadcast Control object for synchronization.</p><p><strong>Server</strong>: Off-chain process intended to respond to client requests.</p><p><strong>Service Level Agreement (SLA)</strong>: Specify the costs, limitations and some behaviors for a service provided by a Host object. Example would be &quot;sent data can be deleted from network storage after 48 hours (2 epochs)&quot;. The client signifies that it agrees to an SLA at the time the connection to the node is initiated. The SLA specs are such that DTP can enforce the agreement fairly to all parties.</p><p><strong>Transport Control Object</strong>: Variables and state machines that exists for the lifetime of a single connection. This is a Sui shared object.</p><h2 id="firewall" tabindex="-1"><a class="header-anchor" href="#firewall"><span>Firewall</span></a></h2><p><img src="/assets/images/ref_firewall.png" alt="" loading="lazy"></p><p>(1) Gas cost of processing incoming traffic is paid by the sender. That includes connection creation cost and running the firewall at the Pipe Object. Most abuse can therefore be neutralized without requiring any processing/cost from the Server.</p><p>Firewall functionality also includes back pressure management to minimize initiating/paying for transactions while the server is already known offline or too busy.</p><p>(2) Optionally, the DTP Node Host object gather statistics from all its Pipe objects and adjust the rate limiting rules. This may happen when the Server detects excessive incoming traffic. The gas cost for these likely rare adjustments is to be handled by the Server. (Note: This is a <strong>logical</strong> representation. More details will follow on how this is implemented such that Pipe objects are not involved with slower consensus transactions).</p><p>(3) The server configure the firewall and does a periodical heartbeat using its shared DTP Host object. The server may also do some fast detection and control on the firewall (TBD).</p><p>(4) When a transaction has no-effect because of the firewall, there is no event emitted (and sender is informed that the transaction was executed, but blocked by the firewall). Therefore, the Server is not impacted.</p><h2 id="multi-channel-connection" tabindex="-1"><a class="header-anchor" href="#multi-channel-connection"><span>Multi-Channel Connection</span></a></h2><p>Media byte streams are ineviteably divided into transaction &quot;block&quot; at some point. Even with a fast finality, the bandwidth is limited by the maximum transaction size and their serialization as allowed by the L1 network (e.g. one simple transaction per object and gas coin at the time).</p><p>Therefore, to support high bandwidth, it might be needed to perform multiple transaction in parallel for a single connection transfer. These transaction flows through independent DTP channels.</p><p>Most of the complexity is handled off-chain by DTP when dividing and re-assembling the transactions into a data stream:</p><p><img src="/assets/images/multi_channels.png" alt="" loading="lazy"></p><p><strong>Will this be practical?</strong> There is a lot of cost/performance unknowns with both Sui network and DTP that will probably persist through 2023. DTP architecture supports media streaming, but it remains to be seen how practical it will be.</p><p>Gas might be expensive and there is some potential limitations about how much Sui fullnodes could scale on a viral broadcast (problem at egress of the network, not with the consensus performance itself).</p><p>Light data streaming (&lt;20 Kbps) very likely to be supported and be useful within 2023.</p><p>Regardless of practicality, support for multi-channel will be at least useful for demo/stress load on a test network.</p><p>Some estimations (See on <a href="https://docs.google.com/spreadsheets/d/1zBrB1ifhPpnLlsDr6nBN_N55Kkw9hX06a7EVUpogyn4/edit?usp=sharing" target="_blank" rel="noopener noreferrer">Google Sheet<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>):</p><p><img src="/assets/images/multi_channel_est.png" alt="" loading="lazy"><em><div style="text-align:center;"><small style="color:red;">(Note: Numbers are best guess as of 11/21/22. Will be revised from time to time)</small></div></em></p><h2 id="high-availability-and-load-balancing" tabindex="-1"><a class="header-anchor" href="#high-availability-and-load-balancing"><span>High-Availability and Load Balancing</span></a></h2><p><img src="/assets/images/ref_ha.png" alt="" loading="lazy"><em><div style="text-align:center;">Forwarding decision made by Pipe object when multiple end-points (servers)</div></em></p><p>Off-chain servers can share the incoming load or be each other&#39;s fallback for high-availability.</p><p>Unlike traditional network, the data is not physically pushed toward a server. Instead, the data remains on the network and an event is emitted about who should &quot;pull it&quot;.</p><p>It is an off-chain responsibility for the application to subscribe to their respective event stream (with proper identifier filtering) and normally retrieve only its assigned data (this change in some recovery scenario).</p><p>Configuration of the end-points and health of the servers is managed through the DTP node, which in turn updates all its pipes and transport control objects.</p><p>DTP will hide the high complexity of many race conditions (assignment to a server that died) and connection migrations among all end-points belonging to the same Node.</p><h2 id="uni-directional-transfer" tabindex="-1"><a class="header-anchor" href="#uni-directional-transfer"><span>Uni-directional Transfer</span></a></h2><p>Similar to bi-directionals, but with a single Pipe object for data plane to minimize cost/complexity. Control plane still bi-directional (e.g. for encryption handshake).</p><p><img src="/assets/images/ref_uni.png" alt="" loading="lazy"><em><div style="text-align:center;">Uni-Directional Data Transfer</div></em></p><h2 id="public-broadcasting" tabindex="-1"><a class="header-anchor" href="#public-broadcasting"><span>Public Broadcasting</span></a></h2><p>Similar to unidirectional, but without encryption and using Broadcast objects instead of a Pipe&amp;Transport control.</p><p><img src="/assets/images/ref_broadcast.png" alt="" loading="lazy"><em><div style="text-align:center;">Broadcasting Specific Objects</div></em></p><p>Broadcasters may require some different crypto-economic capability. Examples:</p><ul><li>A live broadcast is wasteful if there is no one listening... one option will be to let DTP stop stream until there are enough fund from listeners to cover, say, the production cost of the next 1 minute. DTP would handle the automatic &quot;on air&quot; logic and fairly spread the cost among the contributors.</li><li>Listener may choose to tip a live broadcaster (for special requests?).</li></ul><p>There are also some technical challenges particular to broadcasting (See <a class="route-link" href="/docs/future_work.html#broadcasting-challenges">Future Work</a>).</p></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/chainmovers/dtp/edit/main/docs/src/docs/design.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: mario4tier@users.noreply.github.com">mario4tier</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link nav-link next" href="/docs/future_work.html" aria-label="Future Work"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Future Work<!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="https://github.com/chainmovers/dtp">DTP on Github</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://discord.com/invite/Erb6SwsVbH">DTP on Discord</a></div><div class="vp-copyright">Apache 2.0 Open-Source License</div></footer></div><!--]--><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-ByQSBs2e.js" defer></script>
  </body>
</html>
